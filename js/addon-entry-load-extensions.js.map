{"version":3,"file":"js/addon-entry-load-extensions.js","sources":["webpack://GUI/./src/addons/addons/load-extensions/_runtime_entry.js","webpack://GUI/./src/addons/addons/load-extensions/userscript.js"],"sourcesContent":["/* generated by pull.js */\nimport _js from \"./userscript.js\";\nexport const resources = {\n  \"userscript.js\": _js,\n};\n","export default async function ({ addon, global, console }) {\r\n  const vm = addon.tab.traps.vm;\r\n  const loadExtensions = () => {\r\n    // IDs are taken from https://github.com/LLK/scratch-vm/blob/ffa78b91b8645b6a8c80f698a3637bb73abf2931/src/extension-support/extension-manager.js#L11\r\n    const EXTENSIONS = [\"music\", \"pen\", \"text2speech\", \"translate\"];\r\n    for (let ext of EXTENSIONS) {\r\n      // Check if setting enabled and it's not already loaded\r\n      if (addon.settings.get(ext) && !vm.extensionManager.isExtensionLoaded(ext)) {\r\n        vm.extensionManager.loadExtensionIdSync(ext);\r\n      }\r\n    }\r\n  };\r\n  if (vm.editingTarget) {\r\n    loadExtensions();\r\n  } else {\r\n    vm.runtime.once(\"PROJECT_LOADED\", loadExtensions);\r\n  }\r\n}\r\n"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AADA;;;;;;;;;;;;ACFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}