{"version":3,"file":"js/addon-entry-mouse-pos.js","sources":["webpack://GUI/./src/addons/addons/mouse-pos/style.css","webpack://GUI/./src/addons/addons/mouse-pos/_runtime_entry.js","webpack://GUI/./src/addons/addons/mouse-pos/userscript.js"],"sourcesContent":["exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".pos-container-container {\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  padding: 0.25rem;\\r\\n  user-select: none;\\r\\n  width: 45px;\\r\\n  justify-content: center;\\r\\n}\\r\\n\\r\\n.pos-container {\\r\\n  font-size: 0.6rem;\\r\\n  font-weight: bold;\\r\\n  font-family: \\\"Helvetica Neue\\\", Helvetica, Arial, sans-serif;\\r\\n  color: #5cb1d6;\\r\\n  white-space: nowrap;\\r\\n}\\r\\n\\r\\n/* Use pseudo elements to avoid firing mutation observers by just moving the cursor */\\r\\n.pos-container > span::after {\\r\\n  content: attr(data-content);\\r\\n}\\r\\n\\r\\n.sa-mouse-pos-small .pos-container-container {\\r\\n  display: none !important;\\r\\n}\\r\\n\", \"\"]);\n\n// exports\n","/* generated by pull.js */\nimport _js from \"./userscript.js\";\nimport _css from \"!css-loader!./style.css\";\nexport const resources = {\n  \"userscript.js\": _js,\n  \"style.css\": _css,\n};\n","export default async function ({ addon, global, console }) {\r\n  var posContainerContainer = document.createElement(\"div\");\r\n  addon.tab.displayNoneWhileDisabled(posContainerContainer, { display: \"flex\" });\r\n\r\n  var posContainer = document.createElement(\"div\");\r\n  var pos = document.createElement(\"span\");\r\n\r\n  posContainerContainer.className = \"pos-container-container\";\r\n  posContainer.className = \"pos-container\";\r\n\r\n  posContainerContainer.appendChild(posContainer);\r\n  posContainer.appendChild(pos);\r\n\r\n  const vm = addon.tab.traps.vm;\r\n\r\n  vm.runtime.ioDevices.mouse.__scratchX = vm.runtime.ioDevices.mouse._scratchX;\r\n  vm.runtime.ioDevices.mouse.__scratchY = vm.runtime.ioDevices.mouse._scratchY;\r\n\r\n  var x = vm.runtime.ioDevices.mouse.__scratchX ? vm.runtime.ioDevices.mouse.__scratchX : 0;\r\n  var y = vm.runtime.ioDevices.mouse.__scratchY ? vm.runtime.ioDevices.mouse.__scratchY : 0;\r\n\r\n  const showUpdatedValue = () => pos.setAttribute(\"data-content\", `${Math.round(x)}, ${Math.round(y)}`);\r\n\r\n  Object.defineProperty(vm.runtime.ioDevices.mouse, \"_scratchX\", {\r\n    get: function () {\r\n      return this.__scratchX;\r\n    },\r\n    set: function (setx) {\r\n      x = setx;\r\n      showUpdatedValue();\r\n      this.__scratchX = setx;\r\n    },\r\n  });\r\n\r\n  Object.defineProperty(vm.runtime.ioDevices.mouse, \"_scratchY\", {\r\n    get: function () {\r\n      return this.__scratchY;\r\n    },\r\n    set: function (sety) {\r\n      y = sety;\r\n      showUpdatedValue();\r\n      this.__scratchY = sety;\r\n    },\r\n  });\r\n\r\n  if (addon.tab.redux.state && addon.tab.redux.state.scratchGui.stageSize.stageSize === \"small\") {\r\n    document.body.classList.add(\"sa-mouse-pos-small\");\r\n  }\r\n  document.addEventListener(\r\n    \"click\",\r\n    (e) => {\r\n      if (e.target.closest(\"[class*='stage-header_stage-button-first']\")) {\r\n        document.body.classList.add(\"sa-mouse-pos-small\");\r\n      } else if (e.target.closest(\"[class*='stage-header_stage-button-last']\")) {\r\n        document.body.classList.remove(\"sa-mouse-pos-small\");\r\n      }\r\n    },\r\n    { capture: true }\r\n  );\r\n\r\n  while (true) {\r\n    await addon.tab.waitForElement('[class*=\"controls_controls-container\"]', {\r\n      markAsSeen: true,\r\n      reduxEvents: [\"scratch-gui/mode/SET_PLAYER\", \"fontsLoaded/SET_FONTS_LOADED\", \"scratch-gui/locales/SELECT_LOCALE\"],\r\n    });\r\n\r\n    if (addon.tab.editorMode === \"editor\") {\r\n      addon.tab.appendToSharedSpace({ space: \"afterStopButton\", element: posContainerContainer, order: 1 });\r\n    }\r\n  }\r\n}\r\n"],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACPA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAFA;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AACA;AAUA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAFA;AACA;AAIA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;;;A","sourceRoot":""}