{"version":3,"file":"js/addon-entry-remove-sprite-confirm.js","sources":["webpack://GUI/./src/addons/addons/remove-sprite-confirm/_runtime_entry.js","webpack://GUI/./src/addons/addons/remove-sprite-confirm/userscript.js"],"sourcesContent":["/* generated by pull.js */\nimport _js from \"./userscript.js\";\nexport const resources = {\n  \"userscript.js\": _js,\n};\n","export default async ({ addon, console, msg }) => {\r\n  if (!addon.tab.redux.state) return console.warn(\"Redux is not available!\");\r\n  const vm = addon.tab.traps.vm;\r\n  if (!vm) return;\r\n  const oldDeleteSprite = vm.deleteSprite;\r\n  const newDeleteSprite = function (...args) {\r\n    if (addon.self.disabled) return oldDeleteSprite.apply(this, args);\r\n    const canDelete = confirm(msg(\"confirm\"));\r\n    if (canDelete) return oldDeleteSprite.apply(this, args);\r\n    const restoreDeletionState = Object.assign({}, addon.tab.redux.state.scratchGui.restoreDeletion);\r\n    setTimeout(\r\n      () =>\r\n        addon.tab.redux.dispatch({\r\n          type: \"scratch-gui/restore-deletion/RESTORE_UPDATE\",\r\n          state: restoreDeletionState,\r\n        }),\r\n      100\r\n    );\r\n    return Promise.resolve();\r\n  };\r\n  vm.deleteSprite = newDeleteSprite;\r\n};\r\n"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AADA;;;;;;;;;;;;ACFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAGA;AACA;AAFA;AAMA;AACA;AACA;AAAA;AACA;;;;A","sourceRoot":""}